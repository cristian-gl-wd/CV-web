<div class="portfolio-wrapper" [class.dark-theme]="isDarkMode">
  <div class="portfolio-layout">
    <header class="header">
      <div class="header-content">
        <div>
          <h1>{{ 'header.name' | translate }}</h1>
          <p class="title">{{ 'header.title' | translate }}</p>
        </div>
        <div class="controls">
          <div class="language-switcher">
            <button (click)="changeLang('es')" [class.active]="currentLang === 'es'">ES</button>
            <button (click)="changeLang('en')" [class.active]="currentLang === 'en'">EN</button>
          </div>
          <div class="theme-switcher">
            <label class="switch">
              <input type="checkbox" (change)="toggleTheme()" [checked]="isDarkMode" />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </header>

    <main class="main-content" #mainContent>
      <div class="container">
        <section class="contact-links fade-in-section">
          <a href="mailto:{{ 'contact.email' | translate }}" title="Email">
            <i class="fa-solid fa-envelope"></i> <span>{{ 'contact.email' | translate }}</span>
          </a>
          <a href="tel:{{ 'contact.phone' | translate }}" title="Phone">
            <i class="fa-solid fa-phone"></i> <span>{{ 'contact.phone' | translate }}</span>
          </a>
          <a
            href="https://{{ personalInfo.linkedin }}"
            target="_blank"
            rel="noopener noreferrer"
            title="LinkedIn"
          >
            <i class="fa-brands fa-linkedin"></i> <span>{{ 'contact.linkedin' | translate }}</span>
          </a>
          <a
            href="https://{{ personalInfo.github }}"
            target="_blank"
            rel="noopener noreferrer"
            title="GitHub"
          >
            <i class="fa-brands fa-github"></i> <span>{{ 'contact.github' | translate }}</span>
          </a>
        </section>

        <section class="card fade-in-section">
          <h2>{{ 'profile.title' | translate }}</h2>
          <p>{{ 'profile.summary' | translate }}</p>
        </section>

        <section class="card fade-in-section">
          <h2>{{ 'experience.title' | translate }}</h2>
          <div class="timeline">
            @for(job of 'experience.jobs' | translate; track job) {
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <h3>
                  {{ job.title }} @ <span>{{ job.company }}</span>
                </h3>
                <p class="period">{{ job.period }}</p>
                <p class="description">{{ job.description }}</p>
                @if (job.achievements) {
                <ul>
                  @for(achievement of job.achievements; track achievement) {
                  <li>{{ achievement }}</li>
                  }
                </ul>
                }
              </div>
            </div>
            }
          </div>
        </section>

        <section class="card fade-in-section">
          <h2>{{ 'skills.title' | translate }}</h2>
          <div class="skills-grid">
            <div class="skill-category">
              <h4>{{ 'skills.languages' | translate }}</h4>
              <div class="tags">
                @for(skill of skills.languages; track skill) {
                <span class="tag">{{ skill }}</span>
                }
              </div>
            </div>
            <div class="skill-category">
              <h4>{{ 'skills.frontend' | translate }}</h4>
              <div class="tags">
                @for(skill of skills.frontend; track skill) {
                <span class="tag">{{ skill }}</span>
                }
              </div>
            </div>
            <div class="skill-category">
              <h4>{{ 'skills.backend' | translate }}</h4>
              <div class="tags">
                @for(skill of skills.backend; track skill) {
                <span class="tag">{{ skill }}</span>
                }
              </div>
            </div>
            <div class="skill-category">
              <h4>{{ 'skills.tools' | translate }}</h4>
              <div class="tags">
                @for(skill of skills.tools; track skill) {
                <span class="tag">{{ skill }}</span>
                }
              </div>
            </div>
          </div>
        </section>

        <section class="card fade-in-section">
          <h2>{{ 'education.title' | translate }}</h2>
          @for(degree of 'education.degrees' | translate; track degree) {
          <div class="education-item">
            <h3>{{ degree.title }}</h3>
            <p>
              <strong>{{ degree.institution }}</strong> | {{ degree.period }}
            </p>
            @if (degree.note) {
            <p class="note">{{ degree.note }}</p>
            }
          </div>
          }
        </section>
      </div>
    </main>
    <nav class="page-index">
      <ul>
        <li>
          <a (click)="scrollToSection('contact')" [class.active]="activeSection === 'contact'">
            <span>{{ 'contact.title' | translate }}</span>
          </a>
        </li>
        <li>
          <a (click)="scrollToSection('profile')" [class.active]="activeSection === 'profile'">
            <span>{{ 'profile.title' | translate }}</span>
          </a>
        </li>
        <li>
          <a
            (click)="scrollToSection('experience')"
            [class.active]="activeSection === 'experience'"
          >
            <span>{{ 'experience.title' | translate }}</span>
          </a>
        </li>
        <li>
          <a (click)="scrollToSection('skills')" [class.active]="activeSection === 'skills'">
            <span>{{ 'skills.title' | translate }}</span>
          </a>
        </li>
        <li>
          <a (click)="scrollToSection('education')" [class.active]="activeSection === 'education'">
            <span>{{ 'education.title' | translate }}</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
